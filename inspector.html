<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Viewer FAQ & Element Inspector</title>

  <!--
  ---
  layout: default
  title: Viewer FAQ & Element Inspector
  ---
  -->

  <style>
    :root{--bg:#020617;--panel:#020617;--border:#1e293b;--accent:#38bdf8;--warn:#fbbf24;--danger:#ef4444;--text:#e5e7eb;--muted:#94a3b8}
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,sans-serif;background:var(--bg);color:var(--text)}
    header{padding:16px 20px;border-bottom:1px solid var(--border)}
    main{padding:20px;display:grid;grid-template-columns:420px 1fr;gap:20px}
    section{background:var(--panel);border:1px solid var(--border);border-radius:12px;padding:14px}
    h1,h2,h3{margin:.2em 0;color:var(--accent)}
    details{border:1px solid var(--border);border-radius:10px;padding:10px;margin-bottom:10px}
    summary{cursor:pointer;font-weight:700}
    .note{border-left:4px solid var(--warn);padding-left:10px;color:#fde68a;margin:10px 0}
    .danger{border-left:4px solid var(--danger);padding-left:10px;color:#fecaca;margin:10px 0}
    label{font-weight:700}
    input{width:100%;margin-top:6px;padding:10px;border-radius:8px;border:1px solid var(--border);background:#020617;color:var(--text)}
    button{margin-top:10px;padding:8px 12px;border-radius:8px;border:none;font-weight:800;cursor:pointer}
    .go{background:var(--accent);color:#020617}
    iframe{width:100%;height:70vh;border-radius:10px;border:1px solid var(--border);background:white}
    pre{white-space:pre-wrap;background:#020617;border:1px solid var(--border);border-radius:10px;padding:10px;min-height:120px}
    .pill{display:inline-block;padding:2px 8px;border-radius:999px;background:#1e293b;color:var(--muted);font-size:.75rem}
    footer{padding:14px 20px;border-top:1px solid var(--border);color:var(--muted);font-size:.85rem}
    @media(max-width:900px){main{grid-template-columns:1fr}}
  </style>
</head>
<body>

<header>
  <h1>Viewer FAQ & Element Inspector</h1>
  <p class="pill">Education‑only • Read‑only • Temporary</p>
</header>

<main>
  <section>
    <h2>FAQ</h2>
    <details open>
      <summary>Is this legal?</summary>
      <p>Yes — this tool only displays content your browser is already allowed to load. It does not store, scrape, bypass paywalls, or redistribute content. Always follow site Terms of Service and copyright law.</p>
    </details>
    <details>
      <summary>Why can’t I inspect elements on most sites?</summary>
      <p>Browser security (same‑origin policy) blocks access to a page’s DOM if it’s from another domain. This is intentional and cannot be bypassed on GitHub Pages.</p>
    </details>
    <details>
      <summary>What does the element inspector show?</summary>
      <p>When allowed, clicking an element returns a <strong>single HTML line</strong> representing that element (no scripts executed, no edits).</p>
    </details>
    <details>
      <summary>What are the limits?</summary>
      <p>You can reveal up to <strong>5 lines per 24 hours</strong> on this device/browser. Limits reset automatically.</p>
    </details>

    <div class="note">Limit enforcement is client‑side (browser storage). IP‑based limits are not possible on static sites.</div>
    <div class="danger">No attempts are made to bypass CORS, log data, or fingerprint users.</div>

    <label for="url">Website URL</label>
    <input id="url" placeholder="https://example.com (same‑origin required for inspection)" />
    <button class="go" onclick="loadSite()">Load</button>

    <h3>Inspector Output</h3>
    <pre id="out">Click an element inside the preview (if permitted).</pre>
    <p><span class="pill" id="quota">Quota: 5 / 5</span></p>
  </section>

  <section>
    <h2>Live Preview</h2>
    <iframe id="viewer" sandbox="allow-same-origin allow-scripts"></iframe>
  </section>
</main>

<footer>
  Read‑only educational viewer. Nothing is saved or transmitted.
</footer>

<script>
  const viewer = document.getElementById('viewer');
  const out = document.getElementById('out');
  const quotaEl = document.getElementById('quota');

  const KEY = 'inspect-quota-v1';
  const MAX = 5;

  function getQuota(){
    const now = Date.now();
    const day = 24*60*60*1000;
    const q = JSON.parse(localStorage.getItem(KEY) || '{"t":0,"n":0}');
    if(now - q.t > day){ q.t = now; q.n = 0; }
    localStorage.setItem(KEY, JSON.stringify(q));
    quotaEl.textContent = `Quota: ${Math.max(0, MAX-q.n)} / ${MAX}`;
    return q;
  }

  function useOne(){ const q = getQuota(); if(q.n >= MAX) return false; q.n++; localStorage.setItem(KEY, JSON.stringify(q)); quotaEl.textContent = `Quota: ${Math.max(0, MAX-q.n)} / ${MAX}`; return true; }

  getQuota();

  function loadSite(){
    const url = document.getElementById('url').value.trim();
    if(!url.startsWith('http')){ alert('Include http:// or https://'); return; }
    viewer.src = url;
    out.textContent = 'If inspection is allowed, click an element in the preview.';
  }

  viewer.addEventListener('load', () => {
    try{
      const doc = viewer.contentDocument;
      if(!doc){ out.textContent = 'Inspection blocked by browser security.'; return; }
      doc.addEventListener('click', (e) => {
        e.preventDefault(); e.stopPropagation();
        if(!useOne()){ out.textContent = 'Daily limit reached. Try again tomorrow.'; return; }
        const el = e.target;
        const tag = el.tagName.toLowerCase();
        const attrs = [...el.attributes].map(a=>`${a.name}="${a.value}"`).join(' ');
        const line = `<${tag}${attrs? ' '+attrs:''}>`;
        out.textContent = line;
      }, true);
    }catch{
      out.textContent = 'Inspection blocked by browser security (cross‑origin).';
    }
  });
</script>

</body>
</html>
